(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/center/center"],{87:function(e,n,t){"use strict";(function(e,n){var r=t(4);t(26);r(t(25));var a=r(t(88));e.__webpack_require_UNI_MP_PLUGIN__=t,n(a.default)}).call(this,t(1)["default"],t(2)["createPage"])},88:function(e,n,t){"use strict";t.r(n);var r=t(89),a=t(91);for(var u in a)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(u);t(93);var c,o=t(32),s=Object(o["default"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"2fc1a426",null,!1,r["components"],c);s.options.__file="pages/center/center.vue",n["default"]=s.exports},89:function(e,n,t){"use strict";t.r(n);var r=t(90);t.d(n,"render",(function(){return r["render"]})),t.d(n,"staticRenderFns",(function(){return r["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return r["recyclableRender"]})),t.d(n,"components",(function(){return r["components"]}))},90:function(e,n,t){"use strict";var r;t.r(n),t.d(n,"render",(function(){return a})),t.d(n,"staticRenderFns",(function(){return c})),t.d(n,"recyclableRender",(function(){return u})),t.d(n,"components",(function(){return r}));try{r={uniPopup:function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,571))}}}catch(o){if(-1===o.message.indexOf("Cannot find module")||-1===o.message.indexOf(".vue"))throw o;console.error(o.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var e=this,n=e.$createElement,t=(e._self._c,e.recommendList.length),r=t?e.__map(e.recommendList,(function(n,t){var r=e.__get_orig(n),a=n[e.recommendPicture]?n[e.recommendPicture].split(","):null;return{$orig:r,g1:a}})):null;e.$mp.data=Object.assign({},{$root:{g0:t,l0:r}})},u=!1,c=[];a._withStripped=!0},91:function(e,n,t){"use strict";t.r(n);var r=t(92),a=t.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(u);n["default"]=a.a},92:function(e,n,t){"use strict";(function(e){var r=t(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(t(57)),u=r(t(59)),c=r(t(41)),o={data:function(){return{isH5Plus:!0,user:{},tableName:"",role:"",menuList:[],iconArr:["cuIcon-same","cuIcon-deliver","cuIcon-evaluate","cuIcon-shop","cuIcon-ticket","cuIcon-cascades","cuIcon-discover","cuIcon-question","cuIcon-pic","cuIcon-filter","cuIcon-footprint","cuIcon-pulldown","cuIcon-pullup","cuIcon-moreandroid","cuIcon-refund","cuIcon-qrcode","cuIcon-remind","cuIcon-profile","cuIcon-home","cuIcon-message","cuIcon-link","cuIcon-lock","cuIcon-unlock","cuIcon-vip","cuIcon-weibo","cuIcon-activity","cuIcon-friendadd","cuIcon-friendfamous","cuIcon-friend","cuIcon-goods","cuIcon-selection"],recommendList:[],recommendTable:"",recommendTitle:"",recommendPicture:"",passwordForm:{mima:"",newmima:"",newmima1:""}}},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(){var e=this;return(0,u.default)(a.default.mark((function n(){var t;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t=c.default.list(),e.menuList=t;case 2:case"end":return n.stop()}}),n)})))()},onShow:function(){var n=this;return(0,u.default)(a.default.mark((function t(){var r;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.removeStorageSync("useridTag"),n.role=e.getStorageSync("appRole"),t.next=4,n.getSession();case 4:n.getThumbsup(),n.getStoreup(),n.tableName=e.getStorageSync("nowTable"),r=c.default.list(),n.menuList=r,n.getRecommendList();case 10:case"end":return t.stop()}}),t)})))()},methods:{getSession:function(){var n=this;return(0,u.default)(a.default.mark((function t(){var r,u;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.getStorageSync("nowTable"),t.next=3,n.$api.session(r);case 3:u=t.sent,n.user=u.data,n.$forceUpdate();case 6:case"end":return t.stop()}}),t)})))()},getThumbsup:function(){var e=this;return(0,u.default)(a.default.mark((function n(){var t;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.user&&e.user.id){n.next=2;break}return n.abrupt("return",!1);case 2:return n.next=4,e.$api.page("storeup",{userid:e.user.id,type:21});case 4:t=n.sent,e.user.thumbsnum=Number(t.data.total),e.$forceUpdate();case 7:case"end":return n.stop()}}),n)})))()},getStoreup:function(){var e=this;return(0,u.default)(a.default.mark((function n(){var t;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.user&&e.user.id){n.next=2;break}return n.abrupt("return",!1);case 2:return n.next=4,e.$api.page("storeup",{userid:e.user.id,type:1});case 4:t=n.sent,e.user.storenum=Number(t.data.total),e.$forceUpdate();case 7:case"end":return n.stop()}}),n)})))()},loginClick:function(){e.navigateTo({url:"../login/login"})},onPageTap:function(n){e.setStorageSync("useridTag",1),e.navigateTo({url:n,fail:function(){e.switchTab({url:n})}})},getRecommendList:function(){var n=this;return(0,u.default)(a.default.mark((function t(){var r,u;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r={page:1,limit:4},!e.getStorageSync("appUserid")){t.next=7;break}return t.next=4,n.$api.recommend2("jianshenkecheng",r);case 4:u=t.sent,t.next=10;break;case 7:return t.next=9,n.$api.recommend("jianshenkecheng",r);case 9:u=t.sent;case 10:console.log(u.data),n.recommendList=u.data.list,n.recommendTable="jianshenkecheng",n.recommendTitle="kechengmingcheng",n.recommendPicture="fengmian",n.$forceUpdate();case 16:case"end":return t.stop()}}),t)})))()},recommendDetail:function(n){e.navigateTo({url:"../".concat(this.recommendTable,"/detail?id=").concat(n),fail:function(){e.switchTab({url:"../".concat(this.recommendTable,"/detail?id=").concat(n)})}})},passwordShow:function(){this.passwordForm={mima:"",newmima:"",newmima1:""},this.$forceUpdate(),this.$refs.passwordPopup.open()},updatePassword:function(){var e=this;return(0,u.default)(a.default.mark((function n(){var t,r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=e.passwordForm.mima){n.next=3;break}return e.$utils.msg("原密码不能为空"),n.abrupt("return",!1);case 3:if(""!=e.passwordForm.newmima){n.next=6;break}return e.$utils.msg("新密码不能为空"),n.abrupt("return",!1);case 6:if(""!=e.passwordForm.newmima1){n.next=9;break}return e.$utils.msg("确认密码不能为空"),n.abrupt("return",!1);case 9:if(t="",e.user.mima?t=e.user.mima:e.user.password&&(t=e.user.password),r=e.passwordForm.mima,t==r){n.next=15;break}return e.$utils.msg("原密码不正确"),n.abrupt("return",!1);case 15:if(e.passwordForm.newmima==e.passwordForm.newmima1){n.next=18;break}return e.$utils.msg("两次密码不一致"),n.abrupt("return",!1);case 18:return e.tableName,e.user.password=e.passwordForm.newmima,e.user.mima=e.passwordForm.newmima,n.next=23,e.$api.update(e.tableName,e.user);case 23:e.$utils.msg("修改密码成功,下次登录系统生效"),e.$refs.passwordPopup.close(),e.getSession();case 26:case"end":return n.stop()}}),n)})))()}}};n.default=o}).call(this,t(2)["default"])},93:function(e,n,t){"use strict";t.r(n);var r=t(94),a=t.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(u);n["default"]=a.a},94:function(e,n,t){}},[[87,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/center/center.js.map